---
aliases: ["Repository pattern", "—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π"]
tags: [architecture, data, interview]
created: 2025‚Äë05‚Äë04
---

## üìù Question  
–ß—Ç–æ —Ç–∞–∫–æ–µ –ø–∞—Ç—Ç–µ—Ä–Ω Repository –∏ –∫–∞–∫ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Android?

## ‚úÖ Answer  
**Repository (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)** ‚Äì —ç—Ç–æ —à–∞–±–ª–æ–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –≤—ã–Ω–æ—Å—è—â–∏–π –ª–æ–≥–∏–∫—É –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ª–æ–π/–∫–ª–∞—Å—Å. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —á–µ—Ç–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è ViewModel –∏–ª–∏ UseCase) –∏ —Å–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ —Ç–æ–≥–æ, –æ—Ç–∫—É–¥–∞ –ø–æ—Å—Ç—É–ø–∞—é—Ç –¥–∞–Ω–Ω—ã–µ (–∏–∑ —Å–µ—Ç–∏, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∫—ç—à–∞ –∏ —Ç.–¥.).

–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Android –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã MVVM/Clean, Repository —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é —Å–ª–æ—è Model (–∏–ª–∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ —Å–ª–æ—è –º–µ–∂–¥—É Domain –∏ Data). **–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**

- –ß—Ç–æ–±—ã –æ—Ç–¥–µ–ª–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, —É –Ω–∞—Å –µ—Å—Ç—å `UserRepository` —Å –º–µ—Ç–æ–¥–æ–º `getUser(id): User`. –í–Ω—É—Ç—Ä–∏ –æ–Ω –º–æ–∂–µ—Ç —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É (Room) ‚Äì –µ—Å–ª–∏ –µ—Å—Ç—å, –≤–µ—Ä–Ω—É—Ç—å –æ—Ç—Ç—É–¥–∞, –µ—Å–ª–∏ –Ω–µ—Ç ‚Äì —Å—Ö–æ–¥–∏—Ç—å –≤ —Å–µ—Ç—å (Retrofit), —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É –∏ –≤–µ—Ä–Ω—É—Ç—å. –°–Ω–∞—Ä—É–∂–∏ (–≤–æ ViewModel) –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ `userRepo.getUser(id)` –∏ –Ω–µ –≤–∞–∂–Ω–æ, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –æ–Ω –¥–æ—Å—Ç–∞–µ—Ç ‚Äì —Å–µ—Ç—å, –ë–î, –∏–ª–∏ –∫—ç—à ‚Äì —ç—Ç–æ —Ä–µ—à–∞–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
    
- –î–ª—è **–∑–∞–º–µ–Ω—ã –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö** –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é: —Å–µ–π—á–∞—Å –¥–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞, –∞ –∑–∞–≤—Ç—Ä–∞ –∑–∞—Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∞—Ç—å –∏–∑ –¥—Ä—É–≥–æ–≥–æ API ‚Äì –º–µ–Ω—è–µ–º –≤–Ω—É—Ç—Ä–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è, –≤–µ–¥—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–æ—Ç –∂–µ.
    
- –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: –º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ —Ñ–µ–π–∫–æ–≤—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ) –ø—Ä–∏ –º–æ–¥—É–ª—å–Ω–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ ViewModel, –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—è —Å–µ—Ç—å –∏–ª–∏ –ë–î.
    

**–ö–∞–∫ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è:** –û–±—ã—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `UserRepository` —Å –º–µ—Ç–æ–¥–∞–º–∏). –ó–∞—Ç–µ–º –¥–µ–ª–∞—é—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä `UserRepositoryImpl` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `UserDao` (DAO –±–∞–∑—ã) –∏ `UserApi` (—Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–µ—Ç–∏). –ú–µ—Ç–æ–¥—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Ä–µ–∞–ª–∏–∑—É—é—Ç –ª–æ–≥–∏–∫—É:

```kotlin
class UserRepositoryImpl(val api: UserApi, val dao: UserDao): UserRepository {
    suspend fun getUser(id: Int): User {
        val cached = dao.getUserById(id)
        return if(cached != null) {
            cached
        } else {
            val fetched = api.fetchUser(id)
            dao.insert(fetched)
            fetched
        }
    }
}
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –∏ —Ä–∞–±–æ—Ç—É —Å —Å–µ—Ç—å—é, –∏ —Å –±–∞–∑–æ–π. –í –ø—Ä–æ—Å—Ç–æ–π —Å–ª—É—á–∞–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–Ω–∫–æ–π –ø—Ä–æ—Å–ª–æ–π–∫–æ–π, –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞—é—â–µ–π DAO –∏–ª–∏ API, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ —Ü–µ–Ω–µ–Ω –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏.

–í –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö Google —Ç–æ–∂–µ —Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç –ø–æ–Ω—è—Ç–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å LiveData –∏–ª–∏ Flow, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –Ω–∞–±–ª—é–¥–∞—Ç—å –∑–∞ –¥–∞–Ω–Ω—ã–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, `fun getUsers(): LiveData<List<User>> = dao.loadAllUsers()` –∏–ª–∏ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å `liveData { emit(api.getUsers()) }`.

**–í—ã–≤–æ–¥:** Repository ‚Äì —ç—Ç–æ –ø—Ä–æ **—á–∏—Å—Ç—ã–π –∫–æ–¥ –∏ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**. –û–Ω –¥–∞–µ—Ç –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é. –í Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å —É—Ä–æ–≤–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –º–µ–∂–¥—É ViewModel –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

## üîç –°–º.¬†—Ç–∞–∫–∂–µ  
- [[mvvm]]  
- [[room]]
