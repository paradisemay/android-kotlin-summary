---
aliases: ["Room ORM", "Room database"]
tags: [jetpack, room, database, interview]
created: 2025‚Äë05‚Äë04
---

## üìù Question  
–ß—Ç–æ —Ç–∞–∫–æ–µ Room –∏ –∫–∞–∫ —Å¬†–Ω–µ–π —Ä–∞–±–æ—Ç–∞—Ç—å?

## ‚úÖ Answer  
**Room** ‚Äì —ç—Ç–æ ORM (Object-Relational Mapping) –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–∑ Jetpack –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite. –û–Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –Ω–∞–¥ SQLite, –ø–æ–∑–≤–æ–ª—è—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏ DAO (Data Access Object) –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤, –≤–º–µ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è SQL –≤—Ä—É—á–Ω—É—é –≤ –∫–æ–¥–µ.

–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Room:

- **Entity (—Å—É—â–Ω–æ—Å—Ç—å):** –ö–ª–∞—Å—Å –¥–∞–Ω–Ω—ã—Ö, –ø–æ–º–µ—á–µ–Ω–Ω—ã–π `@Entity`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–∞–±–ª–∏—Ü–µ –≤ –±–∞–∑–µ. –ü–æ–ª—è –∫–ª–∞—Å—Å–∞ ‚Äì —ç—Ç–æ –∫–æ–ª–æ–Ω–∫–∏. –ù–∞–ø—Ä–∏–º–µ—Ä:
    
    ```kotlin
    @Entity(tableName = "users")
    data class User(
        @PrimaryKey val id: Int,
        val name: String,
        val age: Int
    )
    ```
    
    –ó–¥–µ—Å—å Room —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—É "users" —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ id, name, age. –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–∞ `@PrimaryKey`, `@ColumnInfo`, `@Ignore` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ö–µ–º—ã.
    
- **DAO (Data Access Object):** –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø–æ–º–µ—á–µ–Ω–Ω—ã–π `@Dao`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –º–µ—Ç–æ–¥—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º. –ú–µ—Ç–æ–¥—ã –ø–æ–º–µ—á–∞—é—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤: `@Query`, `@Insert`, `@Update`, `@Delete`. –ù–∞–ø—Ä–∏–º–µ—Ä:
    
    ```kotlin
    @Dao
    interface UserDao {
        @Query("SELECT * FROM users WHERE age > :minAge")
        fun getUsersOlderThan(minAge: Int): List<User>
    
        @Insert
        fun insertUser(user: User)
    }
    ```
    
    Room –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —ç—Ç–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –ú–µ—Ç–æ–¥ `getUsersOlderThan` –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π SELECT-–∑–∞–ø—Ä–æ—Å –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ User. –ú–æ–∂–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `LiveData<List<User>>` –∏–ª–∏ `Flow<List<User>>`, —Ç–æ–≥–¥–∞ Room —Å–∞–º –±—É–¥–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ —ç–º–∏—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
    
- **Database:** –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å, –ø–æ–º–µ—á–µ–Ω–Ω—ã–π `@Database`, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. –í –Ω–µ–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å entities –∏ –ø–æ–ª—É—á–∏—Ç—å DAO. –ü—Ä–∏–º–µ—Ä:
    
    ```kotlin
    @Database(entities = [User::class], version = 1)
    abstract class AppDatabase : RoomDatabase() {
        abstract fun userDao(): UserDao
    }
    ```
    
    –í —Ä–∞–Ω—Ç–∞–π–º–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–∏–Ω–≥–ª—Ç–æ–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –ë–î —á–µ—Ä–µ–∑ `Room.databaseBuilder(context, AppDatabase::class.java, "app.db").build()`.
    

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å:**

1. –û–ø—Ä–µ–¥–µ–ª—è–µ–º Entity –∫–ª–∞—Å—Å—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü.
    
2. –û–ø—Ä–µ–¥–µ–ª—è–µ–º DAO –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å –º–µ—Ç–æ–¥–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.
    
3. –°–æ–∑–¥–∞–µ–º –∫–ª–∞—Å—Å Database, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç –≤—Å—ë.
    
4. –ü–æ–ª—É—á–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –±–∞–∑—ã (–æ–±—ã—á–Ω–æ –≤ Application –∏–ª–∏ —á–µ—Ä–µ–∑ DI) –∏ –≤—ã–∑—ã–≤–∞–µ–º DAO –º–µ—Ç–æ–¥—ã. –ù–∞–ø—Ä–∏–º–µ—Ä:
    
    ```kotlin
    val db = Room.databaseBuilder(appContext, AppDatabase::class.java, "app.db").build()
    val users = db.userDao().getUsersOlderThan(18)
    ```
    
    –ï—Å–ª–∏ –º–µ—Ç–æ–¥ –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ suspend –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç LiveData/Flow, –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –µ–≥–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (Room —Å–∞–º –≤—ã–ø–æ–ª–Ω–∏—Ç –∑–∞–ø—Ä–æ—Å—ã –≤–Ω–µ –≥–ª–∞–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞, —Ç.–∫. —ç—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –Ω–∞–ø—Ä—è–º—É—é).
    

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Room:**

- **–ö–æ–º–ø–∏–ª—è—Ü–∏—è SQL:** –ø—Ä–∏ —Å–±–æ—Ä–∫–µ Room –ø—Ä–æ–≤–µ—Ä—è–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å—ã –≤ `@Query` –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å. –ï—Å–ª–∏ –æ–ø–µ—á–∞—Ç–∫–∞ –∏–ª–∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ–ª–æ–Ω–æ–∫ ‚Äì –ø–æ–ª—É—á–∏—Ç–µ –æ—à–∏–±–∫—É –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –∞ –Ω–µ runtime. –≠—Ç–æ –Ω–∞–¥–µ–∂–Ω–µ–µ.
    
- **–ú–∏–Ω–∏–º—É–º –∫–æ–¥–∞:** Room –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –∑–∞ –≤–∞—Å ‚Äì –º–∞–ø–ø–∏–Ω–≥ –∫—É—Ä—Å–æ—Ä–æ–≤ –≤ –æ–±—ä–µ–∫—Ç—ã, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã.
    
- **–ú–∏–≥—Ä–∞—Ü–∏–∏:** Room —É–º–µ–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ë–î, –µ—Å–ª–∏ –ø–æ–≤—ã—Å–∏—Ç—å –≤–µ—Ä—Å–∏—é. –ù—É–∂–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –º–∏–≥—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É) –∏–ª–∏ —É–∫–∞–∑–∞—Ç—å `fallbackToDestructiveMigration` (—É–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å).
    
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LiveData/Flow:** –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –ø–æ—Ç–æ–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –¥–∞–Ω–Ω—ã—Ö, Room –±—É–¥–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç–∞–±–ª–∏—Ü–µ –∏ —ç–º–∏—Ç–∏—Ç—å –Ω–æ–≤—ã–µ —Å–ø–∏—Å–∫–∏. –≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è MVVM ‚Äì ViewModel –º–æ–∂–µ—Ç –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ Flow –∏–∑ DAO.
    
- **TypeConverters:** Room –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã (`@TypeConverter`) –¥–ª—è –Ω–µ—Å–æ–µ–¥–∏–Ω—è–µ–º—ã—Ö —Ç–∏–ø–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è Date -> Long).
    

–í —Ü–µ–ª–æ–º, Room ‚Äì —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ Android. –û–Ω–∞ –∑–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è SQLiteDatabase –Ω–∞–ø—Ä—è–º—É—é, –¥–µ–ª–∞—è –∫–æ–¥ —á–∏—â–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ.

## üîç –°–º.¬†—Ç–∞–∫–∂–µ  
- [[repository‚Äëpattern]]
- [[datastore]]
